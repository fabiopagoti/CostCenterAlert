<mvc:View controllerName="festo.co.costcenteralert.controller.S2" xmlns:m="sap.m" xmlns:mvc="sap.ui.core.mvc"
	xmlns:semantic="sap.f.semantic" xmlns:layout="sap.ui.layout" xmlns:micro="sap.suite.ui.microchart"
	xmlns:core="sap.ui.core" xmlns="sap.ui.table">
	<semantic:SemanticPage id="page" showFooter="{view>/showFooter}" headerPinnable="false">
		<semantic:titleHeading>
			<m:Title text="Cost Elements and Groups"/>
		</semantic:titleHeading>
		<semantic:titleSnappedContent>
			<m:Text text="from Cost Center {Name}"/>
		</semantic:titleSnappedContent>
		<semantic:headerContent>
			<m:ObjectHeader
				title="{Name}"
				number="{
					parts:[{path:'Actual'},{path:'CurrencyCode'}],
					type: 'sap.ui.model.type.Currency',
					formatOptions: {showMeasure: false}
				}"
				numberUnit="{Currency}"
				numberState="{State}">
				<m:attributes>
					<!--<m:ObjectAttribute title="Parent" text="{ParentId}" />-->
				</m:attributes>
				<m:statuses>
					<m:ObjectStatus
						title="Planned"
						text="{
							parts:[{path:'Planned'},{path:'Currency'}],
							type: 'sap.ui.model.type.Currency',
							formatOptions: {showMeasure: false }
						}"
						state="{State}" />
				</m:statuses>
				<!--<m:additionalNumbers>-->
				<!--	<m:ObjectNumber-->
				<!--		number="123"-->
				<!--		unit="ABC"-->
				<!--		state="{State}" />-->
				<!--</m:additionalNumbers>-->
			</m:ObjectHeader>
			<m:Panel headerText="Filters" expandable="true">
				<m:content>
					<m:SearchField placeholder="Cost Element (Group) Name" value="{ui>/globalFilter}" search="filterGlobally"/>
					<m:FlexBox alignItems="Start" justifyContent="Start">
						<m:items>
							<m:ComboBox placeholder="Results by" value="Month" class="sapUiSmallMarginEnd" items="{filters>/resultsBy}">
								<m:items>
									<core:Item key="{filters>key}" text="{filters>text}"/>
								</m:items>
							</m:ComboBox>
							<m:ComboBox placeholder="Year" value="2017" class="sapUiSmallMarginEnd" items="{filters>/years}" >
								<m:items>
									<core:Item key="{filters>key}" text="{filters>text}"/>
								</m:items>
							</m:ComboBox>
							<m:ComboBox placeholder="Quarter" value="Q2" class="sapUiSmallMarginEnd" items="{filters>/quarters}">
								<m:items>
									<core:Item key="{filters>key}" text="{filters>text}"/>
								</m:items>
							</m:ComboBox>
							<m:ComboBox placeholder="Month" value="June" class="sapUiSmallMarginEnd" items="{filters>/months}">
								<m:items>
									<core:Item key="{filters>key}" text="{filters>text}"/>
								</m:items>
							</m:ComboBox>
						</m:items>
					</m:FlexBox>
					<m:FlexBox alignItems="Start" justifyContent="Start">
						<m:items>
							<m:CheckBox text="Only over budget"/>
							<m:CheckBox text="Only over budget (YTD)"/>
						</m:items>
					</m:FlexBox>
				</m:content>
			</m:Panel>
		</semantic:headerContent>
		<semantic:content>
			<TreeTable id="treeTable" selectionMode="Single" selectionBehavior="RowOnly" enableColumnReordering="true" expandFirstLevel="false"
				fixedLayout="true" visibleRowCountMode="Interactive"
				rows="{ path: 'ToCostElementGroups', parameters: { countMode: 'Inline', treeAnnotationProperties: { hierarchyLevelFor: 'HierarchyLevel', hierarchyNodeFor : 'Id', hierarchyParentNodeFor: 'ParentId', hierarchyDrillStateFor : 'DrillState' } } }"
				rowSelectionChange="onRowSelectionChange">
				<columns>
					<Column label="Name" hAlign="Center">
						<template>
							<m:FlexBox>
								<core:Icon src="sap-icon://{Icon}"/>
								<m:ObjectIdentifier text=" {Name}" class="sapUiTinyMarginBegin"/>
							</m:FlexBox>
						</template>
					</Column>
					<Column label="Actual" hAlign="Center" width="8em">
						<template>
							<m:ObjectNumber textAlign="Center"
								number="{ parts:[{path:'Actual'},{path:'Currency'}], type: 'sap.ui.model.type.Currency', formatOptions: {showMeasure: false} }"
								unit="{Currency}"/>
						</template>
					</Column>
					<Column label="Planned" hAlign="Center" width="8em">
						<template>
							<m:ObjectNumber textAlign="Center"
								number="{ parts:[{path:'Planned'},{path:'Currency'}], type: 'sap.ui.model.type.Currency', formatOptions: {showMeasure: false} }"
								unit="{Currency}"/>
						</template>
					</Column>
					<Column label="Variance" hAlign="Center" width="8em">
						<template>
							<m:VBox alignItems="Center">
								<m:ObjectNumber textAlign="Center"
									number="{ parts:[{path:'VarAbs'},{path:'Currency'}], type: 'sap.ui.model.type.Currency', formatOptions: {showMeasure: false} }"
									unit="{Currency}" state="{State}"/>
								<m:ObjectNumber class="sapUiTinyMarginBegin" number=" {VarPerc}" unit="%" state="{State}"/>
							</m:VBox>
						</template>
					</Column>
					<Column label="Var YTD" wrapping="true" hAlign="Center" width="8em">
						<template>
							<m:VBox alignItems="Center">
								<m:ObjectNumber textAlign="Center"
									number="{ parts:[{path:'VarAbs'},{path:'Currency'}], type: 'sap.ui.model.type.Currency', formatOptions: {showMeasure: false} }"
									unit="{Currency}" state="{State}"/>
								<m:ObjectNumber class="sapUiTinyMarginBegin" number=" {VarPerc}" unit="%" state="{State}"/>
							</m:VBox>
						</template>
					</Column>
					<!--<Column label="Status" hAlign="Center">-->
					<!--	<template>-->
					<!--		<m:VBox alignItems="Center">-->
					<!--			<micro:BulletMicroChart size="Auto" isResponsive="false" scale="{Currency}" showValueMarker="true" targetValue="{Planned}" class="sapUiSmallMargin">-->
					<!--				<micro:actual>-->
					<!--					<micro:BulletMicroChartData actualValueLabel="Actual" value="{Actual}" color="{Color}"/>-->
					<!--				</micro:actual>-->
					<!--				<micro:thresholds>-->
					<!--					<micro:BulletMicroChartData value="0" color="Good"/>-->
					<!--					<micro:BulletMicroChartData value="{= ${Planned} / 2 }" color="Neutral"/>-->
					<!--					<micro:BulletMicroChartData actualValueLabel="Planned" value="{Planned}" color="Error"/>-->
					<!--				</micro:thresholds>-->
					<!--			</micro:BulletMicroChart>-->
					<!--		</m:VBox>-->
					<!--	</template>-->
					<!--</Column>-->
				</columns>
			</TreeTable>
		</semantic:content>
		<semantic:footerMainAction>
			<semantic:FooterMainAction press="onDisplay" text="Display"/>
		</semantic:footerMainAction>
	</semantic:SemanticPage>
</mvc:View>